<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For You ‚ù§Ô∏è</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Framer Motion -->
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">

    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        softPink: '#ffe4e6',
                        hotPink: '#ec4899',
                        deepRed: '#be123c',
                        cream: '#fff1f2',
                    },
                    fontFamily: {
                        hand: ['"Dancing Script"', 'cursive'],
                        body: ['"Nunito"', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background: linear-gradient(135deg, #fff1f2 0%, #ffe4e6 100%);
            color: #be123c;
            font-family: 'Nunito', sans-serif;
            overflow: hidden; /* Prevent scrolling */
            touch-action: manipulation; /* Improve touch response */
        }

        /* Floating Hearts Background */
        .bg-hearts {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0;
            pointer-events: none;
        }

        .bg-heart {
            position: absolute;
            bottom: -100px;
            animation: floatUp 15s linear infinite;
            opacity: 0.3;
            color: #fca5a5;
        }

        @keyframes floatUp {
            0% { transform: translateY(0) rotate(0deg); opacity: 0; }
            10% { opacity: 0.5; }
            90% { opacity: 0.5; }
            100% { transform: translateY(-120vh) rotate(360deg); opacity: 0; }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const { motion, AnimatePresence } = window.Motion;

        // --- Background Floating Hearts ---
        const FloatingBackground = () => {
            const hearts = Array.from({ length: 15 }); // Slightly reduced for mobile performance
            return (
                <div className="bg-hearts">
                    {hearts.map((_, i) => (
                        <div 
                            key={i} 
                            className="bg-heart"
                            style={{
                                left: `${Math.random() * 100}%`,
                                animationDuration: `${10 + Math.random() * 20}s`,
                                animationDelay: `${Math.random() * 10}s`,
                                fontSize: `${Math.random() * 2 + 1}rem`
                            }}
                        >
                            ‚ù§Ô∏è
                        </div>
                    ))}
                </div>
            );
        };

        // --- Loading Sequence ---
        const LoveLoader = ({ onComplete }) => {
            const [progress, setProgress] = useState(0);
            const [message, setMessage] = useState("Thinking about you...");

            useEffect(() => {
                const timer = setInterval(() => {
                    setProgress(prev => {
                        if (prev >= 100) {
                            clearInterval(timer);
                            return 100;
                        }
                        return prev + (Math.random() * 1.5); 
                    });
                }, 80);

                const messages = [
                    { t: 1000, m: "Gathering butterflies..." },
                    { t: 3000, m: "Practicing my smile..." },
                    { t: 5000, m: "Finding the right words..." },
                    { t: 7000, m: "Okay, I'm ready..." }
                ];

                messages.forEach(item => {
                    setTimeout(() => setMessage(item.m), item.t);
                });

                setTimeout(onComplete, 8500);
                return () => clearInterval(timer);
            }, []);

            return (
                <div className="fixed inset-0 flex flex-col items-center justify-center z-50 p-4">
                    <motion.div 
                        initial={{ scale: 0.8, opacity: 0 }}
                        animate={{ scale: 1, opacity: 1 }}
                        className="relative w-24 h-24 md:w-32 md:h-32 mb-8"
                    >
                        <svg viewBox="0 0 24 24" fill="none" className="w-full h-full text-pink-200 stroke-2 stroke-hotPink">
                            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                        </svg>
                        <div className="absolute inset-0 overflow-hidden" style={{ height: `${Math.min(progress, 100)}%`, top: `${100 - Math.min(progress, 100)}%` }}>
                            <svg viewBox="0 0 24 24" fill="currentColor" className="w-full h-full text-hotPink absolute -top-[calc(100%-var(--h))]">
                                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                            </svg>
                        </div>
                    </motion.div>
                    <p className="text-lg md:text-xl font-hand text-hotPink animate-pulse text-center">{message}</p>
                    <p className="text-xs text-pink-300 mt-2 font-mono">{Math.floor(progress)}%</p>
                </div>
            );
        };

        // --- Main App ---
        const App = () => {
            const [stage, setStage] = useState('loading'); 
            const [noBtnPos, setNoBtnPos] = useState({ top: 'auto', left: 'auto', position: 'static' });
            const [isNoBtnAbsolute, setIsNoBtnAbsolute] = useState(false);
            const [yesScale, setYesScale] = useState(1);
            const [noScale, setNoScale] = useState(1);
            
            // "No" Button Logic
            const handleNoAction = (e) => {
                // Prevent default touch behaviors like scrolling while tapping
                if(e.type === 'touchstart') e.preventDefault();
                
                const vw = window.innerWidth;
                const vh = window.innerHeight;
                
                // Approximate button dimensions
                const btnW = 100;
                const btnH = 50;
                
                // Safe padding from edges
                const padding = 20;

                const newX = Math.random() * (vw - btnW - padding * 2) + padding;
                const newY = Math.random() * (vh - btnH - padding * 2) + padding;

                setIsNoBtnAbsolute(true);
                setNoBtnPos({ 
                    position: 'absolute', 
                    left: `${newX}px`, 
                    top: `${newY}px` 
                });
                
                setYesScale(prev => Math.min(prev + 0.15, 2.5));
                setNoScale(prev => Math.max(prev * 0.85, 0));
            };

            return (
                <div className="fixed inset-0 w-full h-full overflow-hidden">
                    <FloatingBackground />
                    
                    <AnimatePresence mode="wait">
                        {stage === 'loading' && (
                            <motion.div key="loader" exit={{ opacity: 0 }} className="absolute inset-0 w-full h-full">
                                <LoveLoader onComplete={() => setStage('question')} />
                            </motion.div>
                        )}

                        {stage === 'question' && (
                            <motion.div 
                                key="question"
                                initial={{ opacity: 0, y: 20 }}
                                animate={{ opacity: 1, y: 0 }}
                                exit={{ opacity: 0, scale: 0.9 }}
                                className="relative z-10 flex flex-col items-center justify-center w-full h-full p-4 md:p-6"
                            >
                                <div className="bg-white/60 backdrop-blur-md p-6 md:p-12 rounded-3xl shadow-xl w-full max-w-2xl border border-white mx-auto flex flex-col items-center">
                                    <motion.div 
                                        initial={{ scale: 0 }} animate={{ scale: 1 }} 
                                        transition={{ type: "spring", stiffness: 200, delay: 0.2 }}
                                        className="text-5xl md:text-6xl mb-4"
                                    >
                                        üíå
                                    </motion.div>
                                    
                                    <h1 className="font-hand text-4xl md:text-7xl text-deepRed mb-4 md:mb-6 text-center leading-tight">
                                        Hey Beautiful,
                                    </h1>
                                    
                                    <p className="text-lg md:text-xl text-gray-700 mb-8 leading-relaxed font-body text-center max-w-lg">
                                        You make my days brighter, seeing you makes me blush, 
                                        and my heart beat faster. I have a very important question...
                                    </p>

                                    <h2 className="text-3xl md:text-5xl font-bold text-hotPink mb-8 md:mb-12 text-center drop-shadow-sm">
                                        Will you be my Valentine?
                                    </h2>

                                    <div className="flex flex-row items-center justify-center gap-4 md:gap-8 relative w-full h-20">
                                        {/* YES BUTTON */}
                                        <motion.button
                                            whileHover={{ scale: 1.1 }}
                                            whileTap={{ scale: 0.95 }}
                                            animate={{ scale: yesScale }}
                                            onClick={() => setStage('success')}
                                            className="bg-hotPink text-white font-bold text-lg md:text-xl px-8 md:px-10 py-3 md:py-4 rounded-full shadow-lg hover:bg-deepRed hover:shadow-hotPink/50 transition-all z-20 whitespace-nowrap"
                                        >
                                            Yes! üíñ
                                        </motion.button>

                                        {/* NO BUTTON */}
                                        <motion.button
                                            onMouseEnter={handleNoAction}
                                            onTouchStart={handleNoAction}
                                            style={noBtnPos}
                                            animate={{
                                                ...noBtnPos,
                                                scale: noScale,
                                                opacity: noScale < 0.1 ? 0 : 1
                                            }}
                                            transition={{ type: "spring", stiffness: 300, damping: 20 }}
                                            className={`${isNoBtnAbsolute ? 'fixed' : 'relative'} bg-white text-gray-400 font-bold text-sm px-6 py-2 rounded-full border border-gray-200 hover:bg-gray-50 z-30 transition-colors whitespace-nowrap`}
                                        >
                                            No thanks
                                        </motion.button>
                                    </div>
                                </div>
                            </motion.div>
                        )}

                        {stage === 'success' && (
                            <motion.div 
                                key="success"
                                initial={{ opacity: 0, scale: 0.8 }}
                                animate={{ opacity: 1, scale: 1 }}
                                className="relative z-10 flex flex-col items-center justify-center w-full h-full p-4 text-center overflow-y-auto"
                            >
                                <div className="bg-white/80 backdrop-blur-xl p-6 md:p-12 rounded-3xl shadow-2xl border-2 border-hotPink w-full max-w-2xl my-auto">
                                    <h1 className="font-hand text-5xl md:text-8xl text-hotPink mb-4 md:mb-6 leading-tight">
                                        YAYYY!! üéâ
                                    </h1>
                                    <p className="text-xl md:text-2xl text-gray-700 font-bold mb-6 md:mb-8">
                                        You just made me the happiest person ever!
                                    </p>
                                    
                                    <div className="rounded-xl overflow-hidden shadow-lg border-4 border-pink-200 w-full aspect-video relative mb-6 md:mb-8 bg-black">
                                        <iframe src="https://giphy.com/embed/MDJ9IbxxvDUQM" className="absolute inset-0 w-full h-full" frameBorder="0" allowFullScreen></iframe>
                                    </div>
                                    
                                    <p className="text-gray-500 font-hand text-xl md:text-2xl">
                                        Get ready for the best date ever. ‚ù§Ô∏è
                                    </p>
                                </div>
                                
                                {/* Confetti Effect */}
                                {Array.from({ length: 50 }).map((_, i) => (
                                    <motion.div
                                        key={i}
                                        initial={{ 
                                            top: "50%", 
                                            left: "50%", 
                                            opacity: 1, 
                                            scale: 0 
                                        }}
                                        animate={{ 
                                            top: `${Math.random() * 100}%`, 
                                            left: `${Math.random() * 100}%`, 
                                            opacity: 0, 
                                            scale: 1 
                                        }}
                                        transition={{ duration: 1.5, repeat: Infinity, delay: Math.random() * 2 }}
                                        className="fixed w-3 h-3 md:w-4 md:h-4 rounded-full pointer-events-none"
                                        style={{ 
                                            backgroundColor: ['#ec4899', '#f472b6', '#fbbf24', '#f87171'][Math.floor(Math.random() * 4)] 
                                        }}
                                    />
                                ))}
                            </motion.div>
                        )}
                    </AnimatePresence>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>